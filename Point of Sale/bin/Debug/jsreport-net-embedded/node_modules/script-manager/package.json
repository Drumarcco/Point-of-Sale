{
  "name": "script-manager",
  "version": "0.1.1",
  "author": {
    "name": "Jan Blaha",
    "email": "jan.blaha@hotmail.com"
  },
  "contributors": [],
  "description": "Manager for running foreign and potentionally dangerous scripts in the cluster",
  "keywords": [
    "custom",
    "script",
    "manager"
  ],
  "homepage": "https://github.com/pofider/node-script-manager",
  "repository": {
    "type": "git",
    "url": "git@github.com:pofider/node-script-manager.git"
  },
  "dependencies": {
    "string": "3.0.0",
    "request": "2.53.0",
    "underscore": "1.8.2",
    "uuid": "2.0.1",
    "net-cluster": "0.0.2"
  },
  "devDependencies": {
    "mocha": "2.1.0",
    "should": "5.0.1"
  },
  "scripts": {
    "test": "mocha test/test.js"
  },
  "main": "index.js",
  "licence": "MIT",
  "readme": "#script-manager\r\n[![Build Status](https://travis-ci.org/pofider/node-script-manager.png?branch=master)](https://travis-ci.org/pofider/node-script-manager)\r\n\r\n**node.js manager for running foreign and potentially dangerous scripts in the cluster**\r\n\r\nYou can use node.js vm module for running a custom javascript code, but when the code is bad it can quickly get your node.js process into an endless loop. For this reason it is better to run users's custom code in a separate node process which you can recycle when the script reaches timeout. This can be achieved using node child_process module, but a simple implementation has limitations in performance and scale because running each script in a new node child process can quickly spawn whole system with node processes. This package solve problem of running user's custom javascript code in a load balanced cluster of node processes which are reused over the requests and recycled when needed.\r\n\r\n```js\r\nvar scriptManager = require(\"script-manager\")({ numberOfWorkers: 2 });\r\n\r\nscriptManager.ensureStarted(function(err) {\r\n\r\n\t//send user's script including some other specific options into\r\n\t//wrapper specified by execModulePath\r\n\tscriptManager.execute({\t\r\n\t\tscript: \"return 'Jan';\"\r\n\t}, { \r\n\t\texecModulePath: path.join(__dirname, \"script.js\"),\r\n\t    timeout: 10\r\n\t}, function(err, res) {\r\n\t\tconsole.log(res);\r\n\t});\r\n\t\r\n});\r\n```\r\n\r\n```js\r\n//script.js\r\n//wrapper usually does some fancy thing and then runs the custom script using node.js vm module\r\nmodule.exports = function(inputs, done) {\r\n\tvar result = require('vm').runInNewContext(inputs.script, {\r\n\t\trequire: function() { throw new Error(\"Not supported\"); }\r\n\t});\r\n\tdone(result);\r\n});\r\n```\r\n\r\n\r\n\r\n##License\r\nSee [license](https://github.com/pofider/node-script-manager/blob/master/LICENSE)\r\n",
  "readmeFilename": "README.md",
  "gitHead": "8b17d2f9511107a6eb8627e4dbded23033675364",
  "bugs": {
    "url": "https://github.com/pofider/node-script-manager/issues"
  },
  "_id": "script-manager@0.1.1",
  "_shasum": "90177823de57f03c4551f8c98c7bc025bdfa49a0",
  "_from": "script-manager@*"
}
